<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      RoboComp &middot; 
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/website/public/css/poole.css">
  <link rel="stylesheet" href="/website/public/css/syntax.css">
  <link rel="stylesheet" href="/website/public/css/hyde.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/websitepublic/apple-touch-icon-144-precomposed.png">
                                 <link rel="shortcut icon" href="/websitepublic/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body>

    <div class="sidebar">
  <div class="container">
    <div class="sidebar-about">
      <h1>
        <a href="/website">
          RoboComp
        </a>
      </h1>
      <p class="lead">A simple robotics framework.</p>
    </div>

    <nav class="sidebar-nav">
      <a class="sidebar-nav-item" href="/website">Home</a>

      

      
      
        
          
        
      
        
          
            <a class="sidebar-nav-item" href="/website/Blog/">Blog</a>
          
        
      
        
          
            <a class="sidebar-nav-item" href="/website/GSoC15/">GSoC'15</a>
          
        
      
        
          
            <a class="sidebar-nav-item" href="/website/GSoC16/">GSoC'16</a>
          
        
      
        
          
            <a class="sidebar-nav-item" href="/website/projects/">Projects</a>
          
        
      
        
          
            <a class="sidebar-nav-item" href="/website/about/">About</a>
          
        
      
        
      
        
          
            <a class="sidebar-nav-item" href="/website/contact/">Contact</a>
          
        
      
        
          
        
      
        
          
            <a class="sidebar-nav-item" href="/website/install/">Install</a>
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
      <a class="sidebar-nav-item" href="http://robocomp.readthedocs.org">Tutorials</a>
      <a class="sidebar-nav-item" href="https://github.com/robocomp">GitHub project</a>
      
      <span class="sidebar-nav-item">Currently v1.0.0</span>
    </nav>

    <p>&copy; 2016. All rights reserved.</p>
  </div>
</div>


    <div class="content container">
      <i><b>RoboComp</b> is an open-source Robotics framework providing the tools to create and modify software components that communicate through public interfaces. Components may require, subscribe, implement or publish interfaces in a seamless way. Building new components is done using two domain specific languages, IDSL and CDSL. With IDSL you define an interface and with CDSL you specify how the component will communicate with the world. With this information, a code generator creates C++ and/or Python sources, based on CMake, that compile and execute flawlessly. When some of these features have to be changed, the component can be easily regenerated and all the user specific code is preserved thanks to a simple inheritance mechanism.</i>


<hr>

<div class="posts">
  
  <div class="post">
    <h1 class="post-title">
      <a href="/website/2015/06/12/mercedes1/">
        <i>GSoC,</i> Symbolic planning techniques for recognizing objects domestic <p>#1</p>
      </a>
    </h1>

    <span class="post-date">12 Jun 2015</span>

    <p><strong>About Me</strong> : Hello! My name is Mercedes Paoletti Ávila, and I would like to introduce me a little in this first post. I’m graduate in engineering from the University of Extremadura, and currently I study the Master in computer engineering and ICT management in the same University. Over the past two years I have been working in the Robotics Laboratory of the UEx, Robolab. There I developed my end grade work, “inverse kinematics in social robots”, using the robotic framework implemented by the laboratory, Robocomp, and now I’m doing my Master’s Thesis, that is about robots planners and is part of the project of LJ Manso, AGM.</p>

<p>And just following this course of action, this project combines the two concepts (planning and inverse kinematics) for recognizing and manipulating objects, using the framework Robocomp.</p>

<p>##Symbolic planning techniques for recognizing objects domestic</p>

<p>The main object of this project is the application of symbolic techniques to build efficient pipelines in order to improve computer vision techniques, recognition and interpretation of domestic objects, to be finally executed on a domestic robot, so that the robot is able to move around a house and identify and interact with any objects located inside. The goal is that given a high-level task (eg. “grab a mug”), we can use symbolic planning techniques to build a pipeline of visual processing.</p>

<p>In order to reach this goal, we need some previous concepts:</p>

<p>1) We need a planner to organize the sequence of commands to be executed by the robot. We will use the AGM planner [1].</p>

<p>2) We need a system to recognize marks or some objects. For now, we wil use the algorithm proposed by Edwin Olson, AprilTags [2]</p>

<p>3) We also need a system that controls the movement of the robot and corrects the calibration errors and gaps of the engines. We will use the inverse kinematics component developed in Robocomp, which will add techniques of trajectory planning and visual feedback.</p>

<p>All this provides a robust support that allows the robot to move freely within a given environment, such as a home, and interact with everyday objects that are in it.</p>

<p>You can acces to the code of these components in the Robocomp repository: https://github.com/robocomp</p>

<hr />
<p>[1] AGM documentation: http://ljmanso.com/agm/</p>

<p>[2] AprilTags: http://april.eecs.umich.edu/papers/details.php?name=olson2011tags</p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/website/2015/05/23/using_github/">
        Maintaining your own repository of components in GitHub
      </a>
    </h1>

    <span class="post-date">23 May 2015</span>

    <p>We recommend that you create a repository for your components (i.e. <em>mycomponents</em> directory in the example before) in your GitHub account (or other similar site) and pull/clone it in <em>~/robocomp/components</em> whenever yo need it. For example, if your GitHub account is <em>myaccount</em>, first log in with your browser and create a new repository named <em>mycomponents</em> following this instructions:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>https://help.github.com/articles/create-a-repo/
</code></pre>
</div>

<p>Now is good time to write down a short description of what your component does in the README.md file.</p>

<p>Then we need to clean up the binary and generated files in <em>myfirstcomp</em>. Note that this is not necessary if you upload the component to the repo just after creating it with DSLEditor and before you type <em>cmake .</em></p>

<div class="highlighter-rouge"><pre class="highlight"><code>cd ~/robocomp/components/mycomponents/myfirstcomp
make clean
sudo rm -r CMakeFiles
rm CMakeCache.txt
rm cmake_install.cmake
rm Makefile
rm *.kd*
rm src/moc*
sudo rm -r src/CMakeFiles
rm src/cmake_install.cmake
rm src/Makefile
</code></pre>
</div>

<p>now we are ready:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>cd ~/robocomp/components/mycomponents
git init
git remote add origin "https://github.com/myaccount/mycomponents.git"
git add mycomponents
git push -u origin master
</code></pre>
</div>

<p>You can go now to GitHub and chek that your sources are there!</p>


  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/website/2015/05/23/post_on_webpage/">
        Write a post for robocomp, A step by step guide.
      </a>
    </h1>

    <span class="post-date">23 May 2015</span>

    <p>In this tutorial you will be learning about writing a post for robocomp. I assume that you are already familiar with contributing via Github if you are not then you can follow <a href="http://rajathkumarmp.github.io/robocomp/tutorial/2015/05/23/contribute/">this article</a>.</p>

<p>switch to <code class="highlighter-rouge">gh-pages</code> branch
You can do this via github client or on the command line by navigating to the directory and executing the command</p>

<div class="highlighter-rouge"><pre class="highlight"><code>`git checkout gh-pages`
</code></pre>
</div>

<p>After checking out to the github pages branch in your navigate to the <code class="highlighter-rouge">_posts</code> directory. Here you will find all the posts.</p>

<p>To write a new post. Create a new file and save it as <code class="highlighter-rouge">XYZ.md</code></p>

<p>Note that you will be using Github markdown language.</p>

<p>Once you save the file as <code class="highlighter-rouge">XYZ.md</code>. It will be saved as draft and not published on to the website.</p>

<p>At the header of every article/post you write. Always add this</p>

<div class="highlighter-rouge"><pre class="highlight"><code>---
layout:
title: 
---
</code></pre>
</div>

<p>Layout can be <code class="highlighter-rouge">post</code>, <code class="highlighter-rouge">page</code> or <code class="highlighter-rouge">default</code>. Always set the layout as <code class="highlighter-rouge">post</code>. The title is the title of the post. Categories and Tags should be set accoridingly whichever is applicable. This is helpful in navigating or finding posts on same topic. Description is a short explanation or gist of the entire post.</p>

<p>A sample header looks like this.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>---
layout: post
title: Write a post for robocomp, A step by step guide.
---
</code></pre>
</div>

<p>After adding the header you can proceed writing the post by using Github Markdown language. Now for the most important step. To publish the post or to change the post from draft to final you will have to rename the file to</p>

<div class="highlighter-rouge"><pre class="highlight"><code>`YYYY-MM-DD-XYZ.md`
</code></pre>
</div>

<p>Commit and push it to the repo, you would have successfully published a post on to the robocomp’s website.</p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/website/2015/05/23/component_creation_with_DSLEditor/">
        Creating a new component with eclipse based RoboComp's DSLEditor
      </a>
    </h1>

    <span class="post-date">23 May 2015</span>

    <p>We will create now a new component that will connect to the RCIS simulator and run a simple controller for the robot, using the laser data. First we need to install the DSLEditor software that is runtime Eclipse application.</p>

<p>Create another terminal in Yakuake and type:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>cd ~/robocomp/tools
python fetch_DSLEditor.py
</code></pre>
</div>

<p>Select 32 or 64 bits according to your current linux installation. After a little while the DSLEditor will be installed under the <em>robocompDSL</em> directory:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>cd roboCompDSL/DSLEditor
./DSLEditor
</code></pre>
</div>

<p>Check that you have a <em>RoboComp</em> tab in the upper bar of the DSLEditor window and that the <em>robocomp</em> directory appears in the Project Explorer (left panel). If it does not, right click inside the <em>Project Explorer</em> panel and select <em>import</em>. Then select <em>General</em> and then <em>Existing Projects into Workspace</em>. Then select your <em>robocomp</em> directory and push <em>Finish</em>.</p>

<p>Now we need to bring up some handy tabs in the lower pane. Select the <em>Window</em> tab in the upper bar, then <em>Show View</em>, then <em>Other</em> and again <em>Other</em>. Select now <em>Interfaces</em> and double-click on it. Go back to the main window.</p>

<p>Now, in the left panel, unfold the <em>robocomp</em> directory down to <em>robocomp/components/</em> and then click on it with the right button. Select <em>New Folder</em> and enter <em>mycomponents</em> in the folder name. Do it again to create a new folder inside <em>mycomponents</em> named <em>myfirstcomp</em>. Select <em>myfirstcomp</em> and then click on the <em>RoboComp</em> tab in the upper bar of the main window. Select <em>Create CDSL file</em> and fill the requested name with <em>MyFirstComp.cdsl</em></p>

<p>The new file will open inside a syntax-sensitive editor in the central panel. Ctrl-space gives you syntactically correct options. You can see the skeleton of a new empty component. Look for the tab <em>Interfaces</em> in the lower bar and select <em>DifferentialRobot.idsl</em>. Click on the green cross at the right of the bar to include it and accept when prompted in a pop-up window. You will see something like:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>import "/robocomp/interfaces/IDSLs/DifferentialRobot.idsl";
Component PFLocalizerComp{
    Communications{
        };
        language Cpp;
};
</code></pre>
</div>

<p>Repeat the same steps to include <em>Laser.idsl</em> and then add a <em>requires</em> statement inside de <em>Communications</em> section. The file now should look like this:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>import "/robocomp/interfaces/IDSLs/DifferentialRobot.idsl";
import "/robocomp/interfaces/IDSLs/Laser.idsl";
Component MyFirstComp{
    Communications{
        requires DifferentialRobot, Laser;
    };
language Cpp;
};
</code></pre>
</div>

<p>Save the file and click in the upper bar on the <em>RoboComp</em> tab. Select <em>Generate Code</em>. After a little while the new source tree for your <em>MyFirstComp</em> component will be created. You can go back now to Yakuake and create a new tab to compile it. Then:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>cd ~/robocomp/components/mycomponents/myfirstcomp
cmake .
make
bin/myfirstcomp --Ice.Config=etc/generic_config
</code></pre>
</div>

<p>and there it is! your component is running.</p>

<p>What! Dissapointed? Yeah, I know it does nothing, but it runs and it is yours! Now let’s do some real programming.</p>

<p>Stop the component with Ctrl Z and then type:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>killall -9 myfirstcomp
</code></pre>
</div>

<p>Now start your favorite IDE. KDevelop will do it just fine and you have it already installed. Open it in another tab, from Ubuntu menu or with Alt-F2. Then:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>Click the *Project* tab in the upper bar
Select *Open/Import Project*
Navigate to ~/robocomp/components/mycomponents/myfirstcomp
Select *Makefile* and open the project
</code></pre>
</div>

<p>In the <em>Project</em> panel to the left of the screen, navigate to <em>src</em> and there select <em>specificworker.cpp</em> and open it. Open also <em>specificworker.h</em></p>

<p>Now replace the empty <em>void compute()</em> method with this compact version of the classic AVOID-FORWARD-STOP architecture proposed by R. Brooks in the late 80’s:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>void SpecificWorker::compute( )
{
    static	float rot = 0.1f;			// rads/sec
    static float adv = 100.f;			// mm/sec
    static float turnSwitch = 1;
    const float advIncLow = 0.8;		// mm/sec
    const float advIncHigh = 2.f;		// mm/sec
    const float rotInc = 0.25;			// rads/sec
    const float rotMax = 0.4;			// rads/sec
    const float advMax = 200;			// milimetres/sec
    const float distThreshold = 500; 	// milimetres
try
{
    RoboCompLaser::TLaserData ldata = laser_proxy-&gt;getLaserData();
    std::sort( ldata.begin(), ldata.end(), [](RoboCompLaser::TData a, RoboCompLaser::TData b){ return     a.dist &lt; b.dist; }) ;
    if( ldata.front().dist &lt; distThreshold) 
    {
        adv = adv * advIncLow; 
        rot = rot + turnSwitch * rotInc;
        if( rot &lt; -rotMax) rot = -rotMax;
        if( rot &gt; rotMax) rot = rotMax;
        differentialrobot_proxy-&gt;setSpeedBase(adv, rot);
    }
    else
    {
        adv = adv * advIncHigh; 
        if( adv &gt; advMax) adv = advMax;
        rot = 0.f;
        differentialrobot_proxy-&gt;setSpeedBase(adv, 0.f);		
        turnSwitch = -turnSwitch;
    }	
}
catch(const Ice::Exception &amp;ex)
{
    std::cout &lt;&lt; ex &lt;&lt; std::endl;
}
}
</code></pre>
</div>

<p>To compile the fancy version of <em>std::sort</em> you will have to first add this line at the end of the file <em>CMakeListsSpecific.txt</em> located in the same <em>src</em> directory:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>ADD_DEFINITIONS( -std=c++11 )
</code></pre>
</div>

<p>and then type:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>cmake .
make
</code></pre>
</div>

<p>Hereafter, Press F8 in KDevelop to compile and link. Then, go to Yakuake and restart the component.</p>

<p>Let us take InnerModel <em>simpleworld.xml</em> as an example. Open a new tab in Yakuake and execute</p>

<div class="highlighter-rouge"><pre class="highlight"><code>cd robocomp/files/innermodel
rcis simpleworld.xml
</code></pre>
</div>

<p>Now you should see 2 windows. Now in Yakuake go back to tab where you had compiled <em>myfirstcomp</em> and run</p>

<div class="highlighter-rouge"><pre class="highlight"><code>bin/myfirstcomp --Ice.Config=etc/generic_config
</code></pre>
</div>

<p>You should see the robot maneouvring aroung the box. Now is when Robotics begin! Try to modify the code to let the robot go pass the blocking boxes.</p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/website/2015/05/23/apritagstutorial/">
        aprilTagsComp, Tutorial to simulate virtual apriltags
      </a>
    </h1>

    <span class="post-date">23 May 2015</span>

    <p>If you haven’t already, Then do read about aprilTagsComp <a href="apriltags.md">here</a> for better understanding. In this tutorial you will learn the actual functionality of apriltags.</p>

<p>First make sure you have installed apriltags. Please follow the steps that is given in <em>INSTALL_APRILTAGS_LIB.TXT</em>. Then move to the apriltagscomp folder</p>

<div class="highlighter-rouge"><pre class="highlight"><code>cd ~/robocomp/components/robocomp-robolab/components/apriltagsComp
</code></pre>
</div>

<p>Compile by executing</p>

<div class="highlighter-rouge"><pre class="highlight"><code>cmake.
make
</code></pre>
</div>

<p>Now that you have compiled the component and have the binary generated. Open a new tab in yakuake or terminal and execute</p>

<div class="highlighter-rouge"><pre class="highlight"><code>cd robocomp/files/innermodel
rcis simpleworld.xml
</code></pre>
</div>

<p>Here we will considering <em>simpleworld.xml</em> as an example since it has virtual apriltags and a robot with a camera is present for simulation. After execution you should now see two windows, One showing the robot camera’s view pointing at one of the apriltags and the other with the site map showing the robot and two virtual apriltags.</p>

<p>Now go back to the terminal where you had compiled the apriltagsComp and execute</p>

<div class="highlighter-rouge"><pre class="highlight"><code>bin/apriltagscomp --Ice.Config=etc/generic_config
</code></pre>
</div>

<p>You should now see the following output.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>user@username:~/robocomp/components/robocomp-robolab/components/apriltagsComp$ bin/apriltagscomp --Ice.Config=etc/generic_config
[/home/username/robocomp/classes/rapplication/rapplication.cpp]: Loading [camera:tcp -h localhost -p 10001] proxy at 'CameraProxy'...
18:20:19:421::Info::apriltagscomp.cpp::139::/home/username/robocomp/components/robocomp-robolab/components/apriltagsComp/src/apriltagscomp.cpp::run::CameraProxy initialized Ok!
[/home/username/robocomp/classes/rapplication/rapplication.cpp]: Loading [rgbd:tcp -h localhost -p 10096] proxy at 'RGBDProxy'...
18:20:19:421::Info::apriltagscomp.cpp::150::/home/username/robocomp/components/robocomp-robolab/components/apriltagsComp/src/apriltagscomp.cpp::run::RGBDProxy initialized Ok!
[/home/username/robocomp/classes/rapplication/rapplication.cpp]: Loading [rgbdbus:tcp -h localhost -p 10239] proxy at 'RGBDBusProxy'...
18:20:19:421::Info::apriltagscomp.cpp::161::/home/username/robocomp/components/robocomp-robolab/components/apriltagsComp/src/apriltagscomp.cpp::run::RGBDBusProxy initialized Ok!
18:20:19:423::Debug::genericworker.cpp::53::/home/username/robocomp/components/robocomp-robolab/components/apriltagsComp/src/genericworker.cpp::setPeriod::Period changed100
18:20:19:423::Info::specificmonitor.cpp::56::/home/username/robocomp/components/robocomp-robolab/components/apriltagsComp/src/specificmonitor.cpp::initialize::Starting monitor ...
InputInterface RGBD
AprilTagsFamily tagCodes36h11
ID:0-10 0.17
ID:11-20 0.17
ID:21-30 0.17
InnerModelPath /home/robocomp/robocomp/files/innermodel/simpleworld.xml
RoboCompAprilTagsComp::AprilTagsComp started
InnerModelReader: reading /home/robocomp/robocomp/files/innermodel/simpleworld.xml
InnerModelRGBD: 0.000000 {10096}
"/home/robocomp/robocomp/files/innermodel/simpleworld.xml"   "rgbd" 
FOCAL LENGHT: 480 
  6.45862 fps
  7.17213 fps
  7.09036 fps
  6.94859 fps
  7.09561 fps
  7.01433 fps
  7.09569 fps
  7.02332 fps
  7.24122 fps
  7.17631 fps
  6.85862 fps
  7.00415 fps
  7.14883 fps
  6.92038 fps
  7.03233 fps
</code></pre>
</div>


  </div>
  
</div>

<div class="pagination">
  
    <a class="pagination-item older" href="/website/page6">Older</a>
  
  
    
      <a class="pagination-item newer" href="/website/page4">Newer</a>
    
  
</div>
    </div>

  </body>
</html>
